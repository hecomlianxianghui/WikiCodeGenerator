//
//  BiDaDao.m
//  RedCircleManager
//
//  Generated by WikiCodeGenerator
//  Created by lianxianghui on 16/4/4.
//  Copyright © 2016年 Hecom. All rights reserved.
//

#import "BiDaDao.h"
#import "BiDa.h"
#import "SqliteManager.h"

@implementation BiDaDao
+ (int)createTable {
	NSString *sql = @"create table if not exists BiDa (duangCode text primary key,uid text,createon text,content text,image text,state text,replyArr text,entCount text,reveiveCount text,allCount text,isMyCreate text,reveiveMyState text,isReveExistCreate text,sendType text,sendTime text,sendState text,isMyReveive text,isMyNoEnt text)";
    return [SqliteManager sqlite3ExecCommand:sql];
}

+ (int)saveBiDa:(BiDa *)obj
{
    NSMutableDictionary *recordDic = [NSMutableDictionary dictionary];
    [recordDic setValue:obj.duangCode forKey:@"duangCode"];
    [recordDic setValue:obj.uid forKey:@"uid"];
    [recordDic setValue:obj.createon forKey:@"createon"];
    [recordDic setValue:obj.content forKey:@"content"];
    [recordDic setValue:obj.image forKey:@"image"];
    [recordDic setValue:obj.state forKey:@"state"];
    [recordDic setValue:obj.replyArr forKey:@"replyArr"];
    [recordDic setValue:obj.entCount forKey:@"entCount"];
    [recordDic setValue:obj.reveiveCount forKey:@"reveiveCount"];
    [recordDic setValue:obj.allCount forKey:@"allCount"];
    [recordDic setValue:obj.isMyCreate forKey:@"isMyCreate"];
    [recordDic setValue:obj.reveiveMyState forKey:@"reveiveMyState"];
    [recordDic setValue:obj.isReveExistCreate forKey:@"isReveExistCreate"];
    [recordDic setValue:obj.sendType forKey:@"sendType"];
    [recordDic setValue:obj.sendTime forKey:@"sendTime"];
    [recordDic setValue:obj.sendState forKey:@"sendState"];
    [recordDic setValue:obj.isMyReveive forKey:@"isMyReveive"];
    [recordDic setValue:obj.isMyNoEnt forKey:@"isMyNoEnt"];
   return [SqliteManager writeAllRecord:@[recordDic] databaseTableName:@"BiDa" userIdentify:[GlobalPathMacro getUserIdentify]];
}

+ (int)saveBiDaList:(NSArray *)objList
{
    NSMutableArray *recordList = [NSMutableArray new];
    for (BiDa *obj in objList) {
    	NSMutableDictionary *recordDic = [NSMutableDictionary dictionary];
    	[recordDic setValue:obj.duangCode forKey:@"duangCode"];
    	[recordDic setValue:obj.uid forKey:@"uid"];
    	[recordDic setValue:obj.createon forKey:@"createon"];
    	[recordDic setValue:obj.content forKey:@"content"];
    	[recordDic setValue:obj.image forKey:@"image"];
    	[recordDic setValue:obj.state forKey:@"state"];
    	[recordDic setValue:obj.replyArr forKey:@"replyArr"];
    	[recordDic setValue:obj.entCount forKey:@"entCount"];
    	[recordDic setValue:obj.reveiveCount forKey:@"reveiveCount"];
    	[recordDic setValue:obj.allCount forKey:@"allCount"];
    	[recordDic setValue:obj.isMyCreate forKey:@"isMyCreate"];
    	[recordDic setValue:obj.reveiveMyState forKey:@"reveiveMyState"];
    	[recordDic setValue:obj.isReveExistCreate forKey:@"isReveExistCreate"];
    	[recordDic setValue:obj.sendType forKey:@"sendType"];
    	[recordDic setValue:obj.sendTime forKey:@"sendTime"];
    	[recordDic setValue:obj.sendState forKey:@"sendState"];
    	[recordDic setValue:obj.isMyReveive forKey:@"isMyReveive"];
    	[recordDic setValue:obj.isMyNoEnt forKey:@"isMyNoEnt"];
    	[recordList addObject:recordDic];
    }
    return [SqliteManager writeAllRecord:recordList databaseTableName:@"BiDa" userIdentify:[GlobalPathMacro getUserIdentify]];
}

+ (int)deleteBiDaWithPrimaryKeyValue:(NSString *)pkValue
{
    NSString *strSql = [NSString stringWithFormat:@"delete from BiDa where duangCode='%@'", pkValue];
    return [SqliteManager sqlite3ExecCommand:strSql];
}

+ (int)deleteAllBiDa
{
    NSString *strSql = @"delete from BiDa";
    return [SqliteManager sqlite3ExecCommand:strSql];
}

+ (NSMutableArray *)fetchBiDaListWithOffset:(NSInteger)offset limit:(NSInteger)limit {
	NSMutableArray *objArray = [NSMutableArray array];
    NSString *sql = [NSString stringWithFormat:@"select * from BiDa limit %@ offset %@", @(offset), @(limit)]; 
    NSMutableArray *recordList= [SqliteManager getRecordsWithSql:sql];
    if (recordList.count > 0) {
        for (NSDictionary *record in recordList) {
            BiDa *obj = [BiDa new];
            obj.duangCode = record[@"duangCode"];
            obj.uid = record[@"uid"];
            obj.createon = record[@"createon"];
            obj.content = record[@"content"];
            obj.image = record[@"image"];
            obj.state = record[@"state"];
            obj.replyArr = record[@"replyArr"];
            obj.entCount = record[@"entCount"];
            obj.reveiveCount = record[@"reveiveCount"];
            obj.allCount = record[@"allCount"];
            obj.isMyCreate = record[@"isMyCreate"];
            obj.reveiveMyState = record[@"reveiveMyState"];
            obj.isReveExistCreate = record[@"isReveExistCreate"];
            obj.sendType = record[@"sendType"];
            obj.sendTime = record[@"sendTime"];
            obj.sendState = record[@"sendState"];
            obj.isMyReveive = record[@"isMyReveive"];
            obj.isMyNoEnt = record[@"isMyNoEnt"];
            [objArray addObject:obj];
        }
    } 
    return objArray;
}

@end