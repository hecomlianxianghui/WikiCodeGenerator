//
//  FetchAttachmentUploadParamsRequest.m
//  RedCircleManager
//
//  Generated by WikiCodeGenerator
//  Created by lianxianghui on 16/9/23.
//  Copyright © 2016年 Hecom. All rights reserved.
//

#import "FetchAttachmentUploadParamsRequest.h"
#import "GlobalKeyMacro.h"
#import "HttpRequestFactory.h"
#import "HttpSessionClient.h"
#import "HttpRequestFactory.h"

@implementation FetchAttachmentUploadParamsRequest

- (NSString *)relativeURLPath {
    return [NSString stringWithFormat:@"%@/upload/getRequestParameter.do?userStr=", [HttpRequestFactory prefixUrl]];
}

- (NSDictionary*)allParams {
    if (_fileName) {
        NSMutableDictionary *dic = [NSMutableDictionary dictionary];
        [dic setValue:_fileName forKey:@"fileName"];
        return dic;
    } else {
        return nil;
    }
}

- (void)sendWithSuccessBlock:(SuccessBlock)successBlock failureBlock:(FailureBlock)failureBlock {
    self.params = [self allParams];
    if (self.params) {
    	self.successBlock = successBlock;
        self.failureBlock = failureBlock;
        self.requestMethod = REQUEST_METHOD_POST;
        [[HttpSessionClient instance] requestWithRequest:self];
    }
}

@end